'use strict';var _createClass=function(){function c(d,e){for(var g,f=0;f<e.length;f++)g=e[f],g.enumerable=g.enumerable||!1,g.configurable=!0,'value'in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}return function(d,e,f){return e&&c(d.prototype,e),f&&c(d,f),d}}();function _classCallCheck(c,d){if(!(c instanceof d))throw new TypeError('Cannot call a class as a function')}var MasMenu=function(){function c(d){_classCallCheck(this,c),d||(d={}),this.$menu=d.el,this.$menu='string'==typeof this.$menu?document.querySelector(this.$menu):this.$menu,this.$menuItems=Array.from(this.$menu.children),this.randomMode=d.randomMode||!1,this.speedPerLetterMs=d.speedPerLetterMs||100,this.menu={},this.intervals={},this.init()}return _createClass(c,[{key:'setDataFromDOM',value:function setDataFromDOM(){var d=this;this.$menuItems.forEach(function(e){d.menu[e.innerHTML]=d.replacedSpaces(e.innerHTML.split(''))})}},{key:'replacedSpaces',value:function replacedSpaces(d){return d.map(function(e){return' '===e?'\xA0&nbsp;':e})}},{key:'setDefaultMenu',value:function setDefaultMenu(){var d=this;this.objectLoop(this.menu,function(e){d.menu[e]=e.split('')}),this.updateMenuUI()}},{key:'updateMenuUI',value:function updateMenuUI(){var d=this;this.objectLoop(this.menu,function(e,f){d.$menuItems[f].innerHTML=d.menu[e].join('')})}},{key:'animateMenuItems',value:function animateMenuItems(d){var e=this;this.objectLoop(this.menu,function(f,g){if(g===d)return!1;var h=e.shuffler(f,e.menu[f]);e.intervals[f]=setInterval(function(){h(e.intervals[f])},e.speedPerLetterMs)})}},{key:'clearIntervals',value:function clearIntervals(){var d=this;this.objectLoop(this.intervals,function(e){clearInterval(d.intervals[e])}),this.setDefaultMenu()}},{key:'shuffler',value:function shuffler(d,e){var j=this,f=e.length,g=0,h=e;return function(k){if(g===f)return clearInterval(k),!1;for(var l=j.shuffleArray(h.slice(g,f));j.compareArrays(h,l);)l=j.shuffleArray(h.slice(g,f));return j.randomMode?(h=h.slice(0,g).concat(l),j.menu[d]=h):j.menu[d]=h.slice(0,g).concat(l),j.updateMenuUI(),g++,!0}}},{key:'shuffleArray',value:function shuffleArray(d){return d.map(function(e){return[Math.random(),e]}).sort(function(e,f){return e[0]-f[0]}).map(function(e){return e[1]})}},{key:'compareArrays',value:function compareArrays(d,e){var f=!0;return d.forEach(function(g){e.forEach(function(h){g===h&&(f=!1)})}),f}},{key:'objectLoop',value:function objectLoop(d,e){Object.keys(d).forEach(e)}},{key:'setEvents',value:function setEvents(){var d=this;this.$menuItems.forEach(function(e,f){e.addEventListener('mouseenter',function(){d.animateMenuItems(f)}),e.addEventListener('mouseleave',function(){d.clearIntervals()})})}},{key:'init',value:function init(){this.setDataFromDOM(),this.setEvents()}}]),c}();